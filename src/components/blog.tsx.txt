import React from 'react';
import { useParams, Link } from 'react-router-dom';
import { Calendar, User, ArrowLeft } from 'lucide-react';

// Blog post interface
interface BlogPost {
  id: string;
  title: string;
  slug: string;
  excerpt: string;
  content: string;
  author: string;
  publishDate: string;
  tags: string[];
  published: boolean;
}

// Sample blog posts data
const samplePosts: BlogPost[] = [
  {
    id: '1',
    title: 'The Psychology of Money: Why Your Mindset Matters More Than Math',
    slug: 'psychology-of-money-mindset-matters',
    excerpt: 'Discover why understanding your relationship with money is the key to financial success, beyond just knowing the numbers.',
    content: `# The Psychology of Money: Why Your Mindset Matters More Than Math

Money isn't just about numbers, spreadsheets, or investment returns. It's deeply psychological. Your relationship with money, formed by your experiences, emotions, and beliefs, often matters more than your technical knowledge of finance.

## The Emotional Side of Finance

Most financial decisions aren't made in spreadsheets—they're made at dinner tables, around the water cooler, and in the middle of sleepless nights when you're worried about bills. These decisions are based on emotions, not logic.

### Common Money Emotions:
- **Fear**: "What if I lose everything?"
- **Greed**: "I need to get rich quick"
- **Shame**: "I'm bad with money"
- **Comparison**: "Everyone else seems to have it figured out"

## Changing Your Money Story

Your "money story" is the narrative you tell yourself about money based on your past experiences. Maybe you grew up hearing "money doesn't grow on trees" or "rich people are greedy." These stories shape your financial behavior.

### Steps to Rewrite Your Money Story:
1. **Identify your current beliefs** about money
2. **Question where these beliefs came from**
3. **Choose new, empowering beliefs**
4. **Practice these new beliefs daily**

## Practical Tips for a Healthy Money Mindset

- **Automate your savings** to remove emotion from the equation
- **Focus on progress, not perfection**
- **Celebrate small wins** along your financial journey
- **Educate yourself** but don't get paralyzed by analysis

Remember: Building wealth is a marathon, not a sprint. Your mindset will carry you further than any single investment strategy ever could.`,
    author: 'Financial Mindset Team',
    publishDate: '2025-01-15',
    tags: ['Psychology', 'Mindset', 'Personal Finance'],
    published: true
  },
  {
    id: '2',
    title: 'Currency Fluctuations: How Global Events Impact Exchange Rates',
    slug: 'currency-fluctuations-global-events',
    excerpt: 'Learn how world events, economic policies, and market sentiment drive currency movements and what it means for your money.',
    content: `# Currency Fluctuations: How Global Events Impact Exchange Rates

Currency exchange rates are constantly moving, influenced by a complex web of economic, political, and social factors. Understanding these forces can help you make better decisions whether you're traveling, investing, or running a business.

## Major Factors Affecting Exchange Rates

### Economic Indicators
- **GDP growth rates**
- **Inflation levels**
- **Employment data**
- **Trade balances**

### Political Stability
- **Government changes**
- **Policy announcements**
- **International relations**
- **Regulatory changes**

### Market Sentiment
- **Investor confidence**
- **Risk appetite**
- **Speculation**
- **Media coverage**

## Recent Examples

### COVID-19 Pandemic (2020-2021)
The pandemic caused massive currency volatility as countries implemented different response strategies, affecting their economic outlooks differently.

### Brexit (2016-2020)
The British Pound experienced significant volatility throughout the Brexit process, showing how political uncertainty affects currency values.

### Federal Reserve Interest Rate Changes
When the US Federal Reserve changes interest rates, it often leads to immediate movements in USD exchange rates against other currencies.

## What This Means for You

### For Travelers
- **Monitor rates** before major trips
- **Consider currency hedging** for large expenses
- **Use cards with no foreign transaction fees**

### For Investors
- **Diversify across currencies**
- **Understand currency risk** in international investments
- **Consider currency-hedged funds**

### For Business Owners
- **Hedge currency exposure** for international transactions
- **Price products** accounting for exchange rate volatility
- **Monitor economic calendars** for major announcements

Stay informed, but remember that predicting short-term currency movements is extremely difficult. Focus on long-term trends and manage your exposure appropriately.`,
    author: 'Currency Analysis Team',
    publishDate: '2025-01-10',
    tags: ['Currency', 'Economics', 'Global Markets'],
    published: true
  },
  {
    id: '3',
    title: 'Building Wealth: The Power of Compound Interest and Time',
    slug: 'building-wealth-compound-interest-time',
    excerpt: 'Einstein allegedly called compound interest the eighth wonder of the world. Discover why starting early is your biggest advantage.',
    content: `# Building Wealth: The Power of Compound Interest and Time

Albert Einstein allegedly called compound interest "the eighth wonder of the world" and said "he who understands it, earns it; he who doesn't, pays it." While the attribution is disputed, the sentiment is absolutely true.

## What is Compound Interest?

Compound interest is earning interest on your interest. Unlike simple interest, where you only earn returns on your original investment, compound interest allows your returns to generate their own returns.

### Simple vs. Compound Interest Example
**$1,000 invested at 7% annually for 30 years:**
- **Simple Interest**: $1,000 + ($70 × 30) = $3,100
- **Compound Interest**: $1,000 × (1.07)^30 = $7,612

The difference? **$4,512** - that's the power of compounding!

## The Time Factor

Time is the most crucial ingredient in the compound interest recipe. The earlier you start, the more time your money has to grow exponentially.

### Starting Early vs. Starting Late
**Scenario A**: Sarah starts investing $200/month at age 25
**Scenario B**: John starts investing $400/month at age 35

*Both invest until age 65 at 7% annual return:*
- **Sarah** (40 years): ~$525,000
- **John** (30 years): ~$490,000

Sarah invests $24,000 less but ends up with $35,000 more!

## Practical Applications

### For Retirement Savings
- **Start with any amount** - even $25/month matters
- **Increase contributions** with raises
- **Take advantage** of employer matching
- **Don't touch** your retirement accounts early

### For Other Goals
- **Emergency fund**: Build it slowly but consistently
- **House down payment**: Start saving years in advance
- **Children's education**: Begin when they're born

### Investment Vehicles
- **401(k)/403(b)**: Employer-sponsored retirement accounts
- **IRA/Roth IRA**: Individual retirement accounts
- **Index funds**: Low-cost, diversified investing
- **High-yield savings**: For shorter-term goals

## Common Mistakes to Avoid

1. **Waiting for the "perfect" time** to start
2. **Trying to time the market**
3. **Cashing out investments** during market downturns
4. **Not increasing contributions** over time
5. **Paying high fees** that eat into returns

## The Bottom Line

Compound interest rewards patience and consistency. The best time to start investing was 20 years ago. The second-best time is today.

Start small, stay consistent, and let time work its magic. Your future self will thank you.`,
    author: 'Wealth Building Team',
    publishDate: '2025-01-05',
    tags: ['Investing', 'Compound Interest', 'Wealth Building'],
    published: true
  }
];

interface BlogProps {
  viewMode: 'list' | 'single';
}

const Blog: React.FC<BlogProps> = ({ viewMode }) => {
  const { slug } = useParams<{ slug: string }>();

  if (viewMode === 'single' && slug) {
    const post = samplePosts.find(p => p.slug === slug);
    
    if (!post) {
      return (
        <div className="min-h-screen bg-gray-50 flex items-center justify-center">
          <div className="text-center">
            <h1 className="text-4xl font-bold text-gray-900 mb-4">Post Not Found</h1>
            <p className="text-gray-600 mb-8">The blog post you're looking for doesn't exist.</p>
            <Link 
              to="/blog" 
              className="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2"
            >
              <ArrowLeft className="w-4 h-4" />
              Back to Blog
            </Link>
          </div>
        </div>
      );
    }

    return (
      <div className="min-h-screen bg-gray-50">
        <div className="container mx-auto px-4 py-8">
          <div className="max-w-4xl mx-auto">
            {/* Back to blog link */}
            <Link 
              to="/blog" 
              className="inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-8 transition-colors"
            >
              <ArrowLeft className="w-4 h-4" />
              Back to Blog
            </Link>

            {/* Article */}
            <article className="bg-white rounded-lg shadow-lg overflow-hidden">
              <div className="p-8">
                <h1 className="text-4xl font-bold text-gray-900 mb-4">{post.title}</h1>
                
                <div className="flex items-center gap-6 text-gray-600 mb-8">
                  <div className="flex items-center gap-2">
                    <User className="w-4 h-4" />
                    <span>{post.author}</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <Calendar className="w-4 h-4" />
                    <span>{new Date(post.publishDate).toLocaleDateString()}</span>
                  </div>
                </div>

                <div className="flex gap-2 mb-8">
                  {post.tags.map((tag) => (
                    <span
                      key={tag}
                      className="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm"
                    >
                      {tag}
                    </span>
                  ))}
                </div>

                <div className="prose prose-lg max-w-none">
                  {post.content.split('\n').map((paragraph, index) => {
                    if (paragraph.startsWith('# ')) {
                      return (
                        <h1 key={index} className="text-3xl font-bold mt-8 mb-4 text-gray-900">
                          {paragraph.replace('# ', '')}
                        </h1>
                      );
                    }
                    if (paragraph.startsWith('## ')) {
                      return (
                        <h2 key={index} className="text-2xl font-bold mt-6 mb-3 text-gray-900">
                          {paragraph.replace('## ', '')}
                        </h2>
                      );
                    }
                    if (paragraph.startsWith('### ')) {
                      return (
                        <h3 key={index} className="text-xl font-bold mt-4 mb-2 text-gray-900">
                          {paragraph.replace('### ', '')}
                        </h3>
                      );
                    }
                    if (paragraph.startsWith('- **') && paragraph.includes('**:')) {
                      const parts = paragraph.split('**:');
                      const boldPart = parts[0].replace('- **', '');
                      const restPart = parts[1];
                      return (
                        <li key={index} className="mb-2">
                          <strong>{boldPart}:</strong>{restPart}
                        </li>
                      );
                    }
                    if (paragraph.startsWith('- ')) {
                      return (
                        <li key={index} className="mb-1">
                          {paragraph.replace('- ', '')}
                        </li>
                      );
                    }
                    if (paragraph.trim() === '') {
                      return <br key={index} />;
                    }
                    return (
                      <p key={index} className="mb-4 text-gray-700 leading-relaxed">
                        {paragraph}
                      </p>
                    );
                  })}
                </div>
              </div>
            </article>
          </div>
        </div>
      </div>
    );
  }

  // List view
  return (
    <div className="min-h-screen bg-gray-50">
      <div className="container mx-auto px-4 py-16">
        <div className="max-w-4xl mx-auto">
          <div className="text-center mb-12">
            <h1 className="text-4xl font-bold text-gray-900 mb-4">
              Money Mindset Blog
            </h1>
            <p className="text-xl text-gray-600 max-w-2xl mx-auto">
              Insights on currency markets, financial psychology, and building lasting wealth
            </p>
          </div>

          <div className="grid gap-8">
            {samplePosts
              .filter(post => post.published)
              .map((post) => (
                <article key={post.id} className="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow">
                  <div className="p-8">
                    <h2 className="text-2xl font-bold text-gray-900 mb-3">
                      <Link 
                        to={`/blog/${post.slug}`}
                        className="hover:text-blue-600 transition-colors"
                      >
                        {post.title}
                      </Link>
                    </h2>
                    
                    <p className="text-gray-600 mb-4 leading-relaxed">
                      {post.excerpt}
                    </p>
                    
                    <div className="flex items-center justify-between">
                      <div className="flex items-center gap-4 text-sm text-gray-500">
                        <div className="flex items-center gap-1">
                          <User className="w-4 h-4" />
                          <span>{post.author}</span>
                        </div>
                        <div className="flex items-center gap-1">
                          <Calendar className="w-4 h-4" />
                          <span>{new Date(post.publishDate).toLocaleDateString()}</span>
                        </div>
                      </div>
                      
                      <Link 
                        to={`/blog/${post.slug}`}
                        className="text-blue-600 hover:text-blue-700 font-medium transition-colors"
                      >
                        Read More →
                      </Link>
                    </div>
                    
                    <div className="flex gap-2 mt-4">
                      {post.tags.map((tag) => (
                        <span
                          key={tag}
                          className="px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm"
                        >
                          {tag}
                        </span>
                      ))}
                    </div>
                  </div>
                </article>
              ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Blog;